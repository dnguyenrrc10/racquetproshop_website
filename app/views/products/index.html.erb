<div class="card">
  <div class="section-header">
    <h1>Shop all products</h1>
    <p class="section-subtitle">Filter by category or search for your next racquet.</p>
  </div>

  <div class="form-inline">
    <%= form_with url: products_path, method: :get, local: true do |f| %>
      <%= f.label :q, "Search", class: "text-muted" %>
      <%= f.text_field :q, value: params[:q], placeholder: "Yonex, Nanoflare, control..." %>
      <%= f.submit "Search", class: "btn btn-secondary" %>
    <% end %>
  </div>

  <div class="form-inline">
    <span class="text-muted">Filter by category:</span>
    <%= link_to "All", products_path, class: "btn btn-secondary btn-small" %>
    <% @categories.each do |category| %>
      <%= link_to category.name,
                  products_path(category_id: category.id),
                  class: "btn btn-secondary btn-small" %>
    <% end %>
  </div>
<div class="card">
  <div class="section-header">
    <h2>Filter products</h2>
    <p class="section-subtitle">View products by special criteria.</p>
  </div>

  <div class="form-inline">
    <%= link_to "All Products",
                products_path,
                class: "btn btn-secondary btn-small" %>

    <%= link_to "On Sale",
                products_path(filter: "sale"),
                class: "btn btn-primary btn-small" %>

    <%= link_to "New (Last 3 days)",
                products_path(filter: "new"),
                class: "btn btn-primary btn-small" %>
  </div>
</div>



  <div class="products-grid mt-3">
    <% @products.each do |product| %>
      <div class="product-card">
        <div>
          <p class="product-card-category"><%= product.category.name %></p>
          <h2 class="product-card-title">

            <%= link_to product.name, product_path(product) %>
            <%= product_badges(product) %>
          </h2>
          <p class="text-muted"><%= truncate(product.description, length: 90) %></p>
        </div>

        <div class="product-card-footer">
          <span class="product-card-price">
            <%= number_to_currency(product.current_price) %>
          </span>
          <%= button_to "Add to cart",
                        add_to_cart_path(product),
                        method: :post,
                        class: "btn btn-primary btn-small" %>
        </div>
      </div>
    <% end %>
  </div>
</div>
