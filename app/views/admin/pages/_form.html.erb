<%= form_with model: [:admin, @page],
              url: admin_page_path(@page.slug),
              local: true do |f| %>

  <% if @page.errors.any? %>
    <div class="flash flash-alert">
      <strong><%= pluralize(@page.errors.count, "error") %> prevented this page from being saved:</strong>
      <ul>
        <% @page.errors.full_messages.each do |message| %>
          <li><%= message %></li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <div class="mt-2">
    <%= f.label :title %><br>
    <%= f.text_field :title %>
  </div>

  <div class="mt-2">
    <%= f.label :content %><br>
    <%= f.text_area :content, rows: 10 %>
    <p class="text-muted">
      You can use paragraphs and line breaks. This content will appear on the public
      <strong><%= @page.slug %></strong> page.
    </p>
  </div>

  <div class="mt-3">
    <%= f.submit "Save changes", class: "btn btn-primary" %>
    <%= link_to "Back", admin_pages_path, class: "btn btn-secondary" %>
  </div>
<% end %>
