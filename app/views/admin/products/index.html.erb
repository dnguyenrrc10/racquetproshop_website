<div class="card">
  <div class="section-header">
    <h1>Manage products</h1>
    <p class="section-subtitle">
      Add, edit, or remove badminton racquets and other items from the catalog.
    </p>
  </div>

  <div class="mt-2">
    <%= link_to "New product", new_admin_product_path, class: "btn btn-primary btn-small" %>
  </div>

  <% if @products.empty? %>
    <p class="mt-2 text-muted">No products in the catalog yet.</p>
  <% else %>
    <table class="table mt-2">
      <thead>
        <tr>
          <th>Name</th>
          <th>Category</th>
          <th>Price</th>
          <th>Updated</th>
          <th class="text-right">Actions</th>
        </tr>
      </thead>
      <tbody>
        <% @products.each do |product| %>
          <tr>
            <td><%= product.name %></td>
            <td><%= product.category&.name %></td>
            <td><%= number_to_currency(product.current_price) %></td>
            <td><%= product.updated_at.strftime("%Y-%m-%d") %></td>
            <td class="text-right">
              <%= link_to "Edit",
                          edit_admin_product_path(product),
                          class: "btn btn-secondary btn-small" %>
              <%= button_to "Delete",
                            admin_product_path(product),
                            method: :delete,
                            data: { confirm: "Are you sure you want to delete this product?" },
                            class: "btn btn-danger btn-small",
                            form: { class: "inline-form" } %>
            </td>
          </tr>
        <% end %>
      </tbody>
    </table>
  <% end %>
</div>
